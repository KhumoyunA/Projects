{"ast":null,"code":"import { createUserWithEmailAndPassword, getAuth, signInWithEmailAndPassword } from 'firebase/auth';\nimport * as i0 from \"@angular/core\";\nclass AuthService {\n  constructor() {\n    this.isAuthenticated = false;\n    this.isLoading = false;\n    this.isRegLoading = false;\n    this.isaMatch = true;\n  }\n  login(form) {\n    if (this.isLoading) return;\n    this.isLoading = true;\n    const auth = getAuth();\n    signInWithEmailAndPassword(auth, form.email, form.password).then(userCredential => {\n      // Signed in \n      const user = userCredential.user;\n      this.isAuthenticated = true;\n      this.isAuthenticated = false;\n    }).catch(error => {\n      const errorCode = error.code;\n      const errorMessage = error.message;\n      alert('Sorry, we are not able to find the user you are requesting');\n    }).finally(() => this.isLoading = false);\n  }\n  register(regForm) {\n    if (regForm.password != regForm.confirmPassword) {\n      this.isaMatch = false;\n      return;\n    }\n    if (this.isRegLoading) return;\n    this.isRegLoading = true;\n    const auth = getAuth();\n    createUserWithEmailAndPassword(auth, regForm.email, regForm.password).then(userCredential => {\n      // Signed in \n      // const user = userCredential.user;\n      this.isAuthenticated = true;\n      // ...\n    }).catch(error => {\n      this.isAuthenticated = false;\n      const errorCode = error.code;\n      const errorMessage = error.message;\n      // ..\n    }).finally(() => this.isRegLoading = false);\n  }\n}\nAuthService.ɵfac = function AuthService_Factory(t) {\n  return new (t || AuthService)();\n};\nAuthService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: AuthService,\n  factory: AuthService.ɵfac,\n  providedIn: 'root'\n});\nexport { AuthService };","map":{"version":3,"names":["createUserWithEmailAndPassword","getAuth","signInWithEmailAndPassword","AuthService","constructor","isAuthenticated","isLoading","isRegLoading","isaMatch","login","form","auth","email","password","then","userCredential","user","catch","error","errorCode","code","errorMessage","message","alert","finally","register","regForm","confirmPassword","factory","ɵfac","providedIn"],"sources":["C:\\Users\\khumo\\Desktop\\angular\\learn-ang\\src\\app\\auth\\auth.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { createUserWithEmailAndPassword, getAuth, signInWithEmailAndPassword } from 'firebase/auth';\nimport { LogInForm } from '../types/auth';\nimport { RegisterForm } from '../types/register';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n  isAuthenticated: boolean = false;\n  isLoading: boolean = false;\n  isRegLoading: boolean = false;\n  isaMatch: boolean = true;\n\n  login(form: LogInForm) {\n    if (this.isLoading) return;\n    this.isLoading = true;\n    const auth = getAuth();\n    signInWithEmailAndPassword(auth, form.email, form.password)\n      .then((userCredential) => {\n        // Signed in \n        const user = userCredential.user;\n        this.isAuthenticated = true;\n        this.isAuthenticated = false;\n      })\n      .catch((error) => {\n        const errorCode = error.code;\n        const errorMessage = error.message;\n        alert('Sorry, we are not able to find the user you are requesting');\n      }).finally(() => (this.isLoading = false));\n  }\n\n  register(regForm: RegisterForm) {\n    if (regForm.password != regForm.confirmPassword) {\n      this.isaMatch = false;\n      return;\n    }\n\n    if (this.isRegLoading) return;\n    this.isRegLoading = true;\n\n\n    const auth = getAuth();\n    createUserWithEmailAndPassword(auth, regForm.email, regForm.password)\n    .then((userCredential) => {\n      // Signed in \n      // const user = userCredential.user;\n      this.isAuthenticated = true;\n      // ...\n    })\n    .catch((error) => {\n      this.isAuthenticated = false;\n      const errorCode = error.code;\n      const errorMessage = error.message;\n      // ..\n    }).finally(() => (this.isRegLoading = false));\n    }\n}\n"],"mappings":"AACA,SAASA,8BAA8B,EAAEC,OAAO,EAAEC,0BAA0B,QAAQ,eAAe;;AAInG,MAGaC,WAAW;EAHxBC,YAAA;IAIE,KAAAC,eAAe,GAAY,KAAK;IAChC,KAAAC,SAAS,GAAY,KAAK;IAC1B,KAAAC,YAAY,GAAY,KAAK;IAC7B,KAAAC,QAAQ,GAAY,IAAI;;EAExBC,KAAKA,CAACC,IAAe;IACnB,IAAI,IAAI,CAACJ,SAAS,EAAE;IACpB,IAAI,CAACA,SAAS,GAAG,IAAI;IACrB,MAAMK,IAAI,GAAGV,OAAO,EAAE;IACtBC,0BAA0B,CAACS,IAAI,EAAED,IAAI,CAACE,KAAK,EAAEF,IAAI,CAACG,QAAQ,CAAC,CACxDC,IAAI,CAAEC,cAAc,IAAI;MACvB;MACA,MAAMC,IAAI,GAAGD,cAAc,CAACC,IAAI;MAChC,IAAI,CAACX,eAAe,GAAG,IAAI;MAC3B,IAAI,CAACA,eAAe,GAAG,KAAK;IAC9B,CAAC,CAAC,CACDY,KAAK,CAAEC,KAAK,IAAI;MACf,MAAMC,SAAS,GAAGD,KAAK,CAACE,IAAI;MAC5B,MAAMC,YAAY,GAAGH,KAAK,CAACI,OAAO;MAClCC,KAAK,CAAC,4DAA4D,CAAC;IACrE,CAAC,CAAC,CAACC,OAAO,CAAC,MAAO,IAAI,CAAClB,SAAS,GAAG,KAAM,CAAC;EAC9C;EAEAmB,QAAQA,CAACC,OAAqB;IAC5B,IAAIA,OAAO,CAACb,QAAQ,IAAIa,OAAO,CAACC,eAAe,EAAE;MAC/C,IAAI,CAACnB,QAAQ,GAAG,KAAK;MACrB;;IAGF,IAAI,IAAI,CAACD,YAAY,EAAE;IACvB,IAAI,CAACA,YAAY,GAAG,IAAI;IAGxB,MAAMI,IAAI,GAAGV,OAAO,EAAE;IACtBD,8BAA8B,CAACW,IAAI,EAAEe,OAAO,CAACd,KAAK,EAAEc,OAAO,CAACb,QAAQ,CAAC,CACpEC,IAAI,CAAEC,cAAc,IAAI;MACvB;MACA;MACA,IAAI,CAACV,eAAe,GAAG,IAAI;MAC3B;IACF,CAAC,CAAC,CACDY,KAAK,CAAEC,KAAK,IAAI;MACf,IAAI,CAACb,eAAe,GAAG,KAAK;MAC5B,MAAMc,SAAS,GAAGD,KAAK,CAACE,IAAI;MAC5B,MAAMC,YAAY,GAAGH,KAAK,CAACI,OAAO;MAClC;IACF,CAAC,CAAC,CAACE,OAAO,CAAC,MAAO,IAAI,CAACjB,YAAY,GAAG,KAAM,CAAC;EAC7C;;AAhDSJ,WAAW,C;mBAAXA,WAAW;AAAA;AAAXA,WAAW,C;SAAXA,WAAW;EAAAyB,OAAA,EAAXzB,WAAW,CAAA0B,IAAA;EAAAC,UAAA,EAFV;AAAM;SAEP3B,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}